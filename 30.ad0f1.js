(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{Ibmb:function(a,e){a.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTY0IiBoZWlnaHQ9IjUzIiB2aWV3Qm94PSIwIDAgMTY0IDUzIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj48ZGVmcz48cGF0dGVybiBpZD0iYyIgd2lkdGg9IjUuMjg1IiBoZWlnaHQ9IjUuMjg1IiB4PSItNS4yODUiIHk9Ii01LjI4NSIgcGF0dGVyblVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHVzZSB4bGluazpocmVmPSIjYSIgdHJhbnNmb3JtPSJzY2FsZSguMTA1NykiLz48L3BhdHRlcm4+PGltYWdlIGlkPSJhIiB3aWR0aD0iNTAiIGhlaWdodD0iNTAiIHhsaW5rOmhyZWY9ImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBRElBQUFBeUNBWUFBQUFlUDRpeEFBQUFBWE5TUjBJQXJzNGM2UUFBQVpoSlJFRlVhQVhsbDFWdUEwRVFSTmVIQ0pQRHpIai9JNFNaR1owVEpLK2lXSExpbnZWM2pWc3FhVFh6VTArdjExQVVSZkhWa0N1ZVI0amxOSUxvK1pwWXd2d0hxY09NdW1tNXAzQUVjOFA1bUJQTUpHWExZS3pNVEFCelI3SXdVd1p6QzZUVm1vMlhtQkdNN20xR1pWVTZXak90bnhXTTFxZ01SbXRvTTluQjZQc2tXak45Wk91ajIyYjBQWklWakg2RFJXWWVPSit5MFVKUi9aQnNHNWhwSnpQRGxOWC9sbWpOSGpuUENtYkd5VXlWc3Bja1pTWWJtQ2NnWjRuTlZHbDZRU0l6ZGpCRDdRTHpET2djc1psQm1wNlRhTTJ5ZzVtMzBVSlJtVGxMbUhuaDNBcG1vQVhNQXZjMkk1aFRFcjB6TXJOb1EwTFJmcEtDZWMwTlpzbk56QW1Gb3pXVEdTdVlQZ3FuWU42NFd5WTJJNWhqRXBteGcrbHRBYk5pbzRXaWdqa2lrWmwzenJPQ1dRWElabnBvZWtoU1pyS0IrUUJ5elVZTFJidkpBWW5NWkFlejdtWm1QMkdtVnFsVXJHQzZBRW5DY0xmaFpFWXdleVI2WjJxY2IyWUR3NXBad1hTV21Qbmtic3ZKakdCMlNiUm1uakNzVXhNTVo0S3htZzdhN3BBL01MOXdWaUFxMndUakNsS0gyZWJoeDR4QXZnR0Q5MVBmSFk1ckFnQUFBQUJKUlU1RXJrSmdnZz09Ii8+PHBhdGggaWQ9ImIiIGQ9Ik0wIDBoMTUwdjEwLjY3M0gxNS4yODJWNDlIMHoiLz48L2RlZnM+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48dXNlIGZpbGwtb3BhY2l0eT0iLjI4IiBmaWxsPSIjRkZGIiB4bGluazpocmVmPSIjYiIvPjx1c2UgZmlsbD0idXJsKCNjKSIgeGxpbms6aHJlZj0iI2IiLz48cGF0aCBzdHJva2U9IiMwMDAiIGQ9Ik0xNC41IDEwLjVoMTQ5djQyaC0xNDl6Ii8+PHRleHQgZm9udC1mYW1pbHk9Ik5vdG9TYW5zQ0pLdGMtTWVkaXVtLCBOb3RvIFNhbnMgQ0pLIFRDIiBmb250LXNpemU9IjE4IiBmb250LXdlaWdodD0iNDAwIiBsZXR0ZXItc3BhY2luZz0iMS44OCIgZmlsbD0iIzAwMCI+PHRzcGFuIHg9IjMxIiB5PSIyOSI+V2hpdGVTcGFjZTwvdHNwYW4+PC90ZXh0PjwvZz48L3N2Zz4="},bKPB:function(a,e,t){"use strict";t.r(e);var s=t("wd/R"),i=t.n(s),o={name:"RoomDetail",data:function(){return{id:this.$route.params.id,axiosData:{name:null,tel:null,date:[]},error:{name:{hasError:!1,msg:"Please input name"},tel:{hasError:!1,msg:"Please input tel"},date:{hasError:!1,msg:"Please choose date"}},description:"Single Room is only reserved for one guest. There is a bedroom with a single size bed and a private bathroom. Everything you need prepared for you: sheets and blankets, towels, soap and shampoo, hairdryer are provided. In the room there is AC and of course WiFi.",tempBookingDate:"",bookingDate:"",infoIcon:[{class:"las la-wifi",title:"Wi-Fi",key:"Wi-Fi"},{class:"las la-phone",title:"電話",key:"Television"},{class:"las la-mountain",title:"漂亮的視野",key:"Great-View"},{class:"las la-utensils",title:"早餐",key:"Breakfast"},{class:"las la-wind",title:"空調",key:"Air-Conditioner"},{class:"las la-smoking-ban",title:"禁止吸煙",key:"Smoke-Free"},{class:"las la-glass-martini",title:"Mini Bar",key:"Mini-Bar"},{class:"las la-glass-martini",title:"冰箱",key:"Refrigerator"},{class:"las la-baby",title:"適合兒童",key:"Child-Friendly"},{class:"las la-concierge-bell",title:"R\boom Service",key:"Room-Service"},{class:"las la-couch",title:"沙發",key:"Sofa"},{class:"las la-dog",title:"寵物攜帶",key:"Pet-Friendly"}],centerDialogVisible:!1,weekDayCount:0,weekendCount:0,pickerOptions:{disabledDate:function(a){return a.getTime()<Date.now()}}}},watch:{bookingDate:function(a){this.axiosData.date=[];for(var e=[i()(a[0]),i()(a[1])],t=e[0],s=0,o=0,r=e[1].diff(t,"days"),n=0;n<r;n++){var l=t.add(n,"days");switch(this.axiosData.date.push(l.format("YYYY-MM-DD")),l.get("isoWeekday")){case 1:case 2:case 3:case 4:s+=1;break;case 5:case 6:case 7:o+=1}}this.weekDayCount=s,this.weekendCount=o}},computed:{roomDetail:function(){return this.$store.getters.roomDetail},bathNum:function(){return void 0!==this.roomDetail.descriptionShort?this.roomDetail.descriptionShort["Private-Bath"]:""},subTotal:function(){return this.weekDayCount*this.roomDetail.normalDayPrice+this.weekendCount*this.roomDetail.holidayPrice}},methods:{getRoomDetail:function(){return this.$store.dispatch("getRoomDetail",this.id)},setIconColor:function(a){return this.roomDetail.amenities[a]?"":"grey"},disabledDate:function(a){return a<new Date(new Date)},onBook:function(){this.weekDayCount=0,this.weekendCount=0,this.centerDialogVisible=!0,this.bookingDate=this.tempBookingDate},onConfirm:function(){this.checkRequired()&&this.$store.dispatch("bookingRoom",{id:this.id,axiosData:this.axiosData})},checkRequired:function(){return _.isNull(this.axiosData.name)||""===this.axiosData.name?(this.error.name.hasError=!0,!1):_.isNull(this.axiosData.tel)?(this.error.tel.hasError=!0,!1):0!==this.axiosData.date.length||(this.error.date.hasError=!0,!1)}},created:function(){this.getRoomDetail()}},r=t("KHd+"),n=Object(r.a)(o,(function(){var a=this,e=a.$createElement,s=a._self._c||e;return s("el-container",[s("el-row",[void 0!==a.roomDetail.imageUrl?s("el-col",{staticClass:"room-banner",attrs:{span:24}},[s("el-image",{staticClass:"banner-img",attrs:{src:a.roomDetail.imageUrl[2],fit:"cover"}}),a._v(" "),s("el-image",{staticClass:"banner-img",attrs:{src:a.roomDetail.imageUrl[0],fit:"cover"}}),a._v(" "),s("el-image",{staticClass:"banner-img",attrs:{src:a.roomDetail.imageUrl[1],fit:"cover"}})],1):a._e(),a._v(" "),s("router-link",{attrs:{to:{name:"Main"}}},[s("el-image",{staticClass:"banner-logo",attrs:{src:t("Ibmb"),fit:"cover"}})],1),a._v(" "),s("el-col",{attrs:{span:12,xl:12,lg:12,md:18,sm:24,xs:24}},[void 0!==a.roomDetail.descriptionShort?s("div",{staticClass:"room-info-content"},[s("span",{staticClass:"info-name"},[a._v(a._s(a.roomDetail.name))]),a._v(" "),s("span",{staticClass:"info-description-short"},[a._v("客房人數限制:"+a._s(a.roomDetail.descriptionShort.GuestMin)+"~"+a._s(a.roomDetail.descriptionShort.GuestMax)+"人")]),a._v(" "),s("span",{staticClass:"info-description-short"},[a._v("床型:"+a._s(a.roomDetail.descriptionShort.Bed.toString()))]),a._v(" "),s("span",{staticClass:"info-description-short"},[a._v("衛浴數量:"+a._s(a.bathNum)+"間")]),a._v(" "),s("span",{staticClass:"info-description-short"},[a._v("房間大小:"+a._s(a.roomDetail.descriptionShort.Footage)+"平方公尺")]),a._v(" "),s("span",{staticClass:"info-description"},[a._v(a._s(a.description))]),a._v(" "),s("span",{staticClass:"info-gap"},[a._v("\\\\\\")]),a._v(" "),s("el-col",{staticClass:"info-check-content",attrs:{span:12}},[s("span",{staticClass:"info-check"},[a._v("Check In")]),a._v(" "),s("span",{staticClass:"info-time"},[a._v(a._s(a.roomDetail.checkInAndOut.checkInEarly)+" －\n            "+a._s(a.roomDetail.checkInAndOut.checkInLate))])]),a._v(" "),s("el-col",{staticClass:"info-check-content",attrs:{span:12}},[s("span",{staticClass:"info-check"},[a._v("Check Out")]),a._v(" "),s("span",{staticClass:"info-time"},[a._v(a._s(a.roomDetail.checkInAndOut.checkOut))])]),a._v(" "),s("el-col",{staticClass:"info-icon-content",attrs:{span:24}},a._l(a.infoIcon,(function(e,t){return s("el-col",{key:t,staticClass:"info-icon",class:a.setIconColor(e.key),attrs:{span:8,xl:8,lg:8,md:8,sm:8,xs:24}},[s("i",{staticClass:"icon",class:e.class}),a._v(" "),s("span",[a._v(a._s(e.title))])])})),1)],1):a._e()]),a._v(" "),s("el-col",{attrs:{span:3,xl:3,lg:3,md:6,sm:24,xs:24}},[s("div",{staticClass:"room-price-content"},[s("span",{staticClass:"info-normal-price"},[a._v("NT."+a._s(a.roomDetail.normalDayPrice))]),a._v(" "),s("span",{staticClass:"info-normal-text"},[a._v("平日(一~四)")]),a._v(" "),s("span",{staticClass:"info-holiday-price"},[a._v("NT."+a._s(a.roomDetail.holidayPrice))]),a._v(" "),s("span",{staticClass:"info-normal-text"},[a._v("假日(五~日)")])])]),a._v(" "),s("el-col",{attrs:{span:9,xl:9,lg:9,md:9,sm:24,xs:24}},[s("div",{staticClass:"reservation-date-content"},[s("date-picker",{attrs:{placeholder:"Select date range",range:"",open:!0,"disabled-date":a.disabledDate},model:{value:a.tempBookingDate,callback:function(e){a.tempBookingDate=e},expression:"tempBookingDate"}}),a._v(" "),s("el-button",{staticClass:"book-btn",attrs:{type:"info"},on:{click:a.onBook}},[a._v("預約")])],1)])],1),a._v(" "),s("el-dialog",{attrs:{title:"預約時段",visible:a.centerDialogVisible,width:"40%","show-close":!1},on:{"update:visible":function(e){a.centerDialogVisible=e}}},[s("el-form",{ref:"form",attrs:{"label-width":"80px",size:"mini"}},[s("el-form-item",{attrs:{label:"姓名"}},[s("el-input",{class:{"has-danger":a.error.name.hasError},on:{focus:function(e){a.error.name.hasError=!1}},model:{value:a.axiosData.name,callback:function(e){a.$set(a.axiosData,"name",e)},expression:"axiosData.name"}})],1),a._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:a.error.name.hasError,expression:"error.name.hasError"}],staticClass:"error-msg"},[a._v("\n        "+a._s(a.error.name.msg)+"\n      ")]),a._v(" "),s("el-form-item",{attrs:{label:"聯絡電話"}},[s("el-input",{class:{"has-danger":a.error.tel.hasError},on:{focus:function(e){a.error.tel.hasError=!1}},model:{value:a.axiosData.tel,callback:function(e){a.$set(a.axiosData,"tel",e)},expression:"axiosData.tel"}})],1),a._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:a.error.tel.hasError,expression:"error.tel.hasError"}],staticClass:"error-msg"},[a._v("\n        "+a._s(a.error.tel.msg)+"\n      ")]),a._v(" "),s("el-form-item",{attrs:{label:"預約日期"}},[s("el-date-picker",{class:{"has-danger":a.error.date.hasError},attrs:{type:"daterange","range-separator":"~","start-placeholder":"開始日期","end-placeholder":"结束日期","picker-options":a.pickerOptions},on:{focus:function(e){a.error.date.hasError=!1}},model:{value:a.bookingDate,callback:function(e){a.bookingDate=e},expression:"bookingDate"}})],1),a._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:a.error.date.hasError,expression:"error.date.hasError"}],staticClass:"error-msg"},[a._v("\n        "+a._s(a.error.date.msg)+"\n      ")])],1),a._v(" "),s("div",{staticClass:"weekend-period-content"},[s("div",{staticClass:"weekend-period"},[s("span",[a._v("假日時段")]),a._v(" "),s("span",[a._v(a._s(a.weekendCount)+"夜")])]),a._v(" "),s("div",{staticClass:"weekend-period"},[s("span",[a._v("平日時段")]),a._v(" "),s("span",[a._v(a._s(a.weekDayCount)+"夜")])])]),a._v(" "),s("div",{staticClass:"sub-total-content"},[s("span",[a._v("= NT."+a._s(a.subTotal))])]),a._v(" "),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(e){a.centerDialogVisible=!1}}},[a._v("取消")]),a._v(" "),s("el-button",{attrs:{type:"primary"},on:{click:a.onConfirm}},[a._v("確定預約")])],1)],1)],1)}),[],!1,null,null,null);e.default=n.exports}}]);